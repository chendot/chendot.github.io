<!DOCTYPE html>
<html class="no-js" lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>静态网站框架 - </title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="静态网站生成框架流行界的宠儿们……">
		<meta property="og:title" content="静态网站框架" />
<meta property="og:description" content="静态网站生成框架流行界的宠儿们……" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/2019/0422-ssgs/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2019-04-22T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-04-22T00:00:00+00:00" />


	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	
	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<header class="header">
	<div class="container header__container">
		
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">菜单</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/" title="Page(/post/2019/0422-SSGs.md)" rel="home">
				<span class="menu__text">时光荏苒</span>
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/contact/">
				
				<span class="menu__text">有缘相聚</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/my-paint/">
				
				<span class="menu__text">解忧涂鸦</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
	<div class="container container--outer">
		
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">静态网站框架</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2019-04-22T00:00:00Z">2019-04-22</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/" rel="category">技术文档</a>
	</span>
</div></div>
		</header><div class="content post__content clearfix">
			<h2 id="hugo">Hugo</h2>
<h3 id="目录结构">目录结构</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> ▸ archetypes/    <span style="color:#75715e"># 包括内容类型，在创建新内容时自动生成内容的配置</span>
 ▸ content/       <span style="color:#75715e"># 包括网站内容，全部使用markdown格式</span>
 ▸ data/
 ▸ layouts/       <span style="color:#75715e"># 包括了网站的模版，决定内容如何呈现</span>
 ▸ static/        <span style="color:#75715e"># 包括了css, js, fonts, media等，决定网站的外观</span>
 ▸ themes/
   config.toml

 ▸ resources  <span style="color:#75715e"># Caches some files to speed up generation.</span>
</code></pre></div><p><strong>文章</strong>：以markdown格式的文件存放在content目录下面</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">└── content
    ├── _index.md          // <span style="color:#f92672">[</span>home<span style="color:#f92672">]</span>            &lt;- https://example.com/ **
    ├── about.md           // <span style="color:#f92672">[</span>page<span style="color:#f92672">]</span>            &lt;- https://example.com/about/
    ├── posts               
    |   ├── _index.md      // <span style="color:#f92672">[</span>section<span style="color:#f92672">]</span>         &lt;- https://example.com/posts/ **         
    |   ├── firstpost.md   // <span style="color:#f92672">[</span>page<span style="color:#f92672">]</span>            &lt;- https://example.com/posts/firstpost/
    |   ├── happy           
    |   |   ├── _index.md  // <span style="color:#f92672">[</span>section<span style="color:#f92672">]</span>         &lt;- https://example.com/posts/happy/ **
    |   |   └── ness.md    // <span style="color:#f92672">[</span>page<span style="color:#f92672">]</span>            &lt;- https://example.com/posts/happy/ness/
    |   └── secondpost.md  // <span style="color:#f92672">[</span>page<span style="color:#f92672">]</span>            &lt;- https://example.com/posts/secondpost/
    └── quote   
        ├── _index.md      // <span style="color:#f92672">[</span>section<span style="color:#f92672">]</span>         &lt;- https://example.com/quote/ **           
        ├── first.md       // <span style="color:#f92672">[</span>page<span style="color:#f92672">]</span>            &lt;- https://example.com/quote/first/
        └── second.md      // <span style="color:#f92672">[</span>page<span style="color:#f92672">]</span>            &lt;- https://example.com/quote/second/

// hugo默认生成的页面, 没有对应的markdown文章
分类列表页面               // <span style="color:#f92672">[</span>taxonomyTerm<span style="color:#f92672">]</span>    &lt;- https://example.com/categories/  **
某个分类下的所有文章的列表  // <span style="color:#f92672">[</span>taxonomy<span style="color:#f92672">]</span>        &lt;- https://example.com/categories/one-category  **
标签列表页面               // <span style="color:#f92672">[</span>taxonomyTerm<span style="color:#f92672">]</span>    &lt;- https://example.com/tags/  **
某个标签下的所有文章的列表  // <span style="color:#f92672">[</span>taxonomy<span style="color:#f92672">]</span>        &lt;- https://example.com/tags/one-tag  **
</code></pre></div><p><strong>模版</strong>：模板（皮肤）页面存放在两个地方
三种类型的模版：single、list and partial。Hugo有一套自己的模版查找机制，如果找不到与内容完全匹配的模板，它将向上移动一级并从那里搜索。直到找到匹配的模板或用完模板来尝试。如果找不到模板，它将使用该站点的默认模板。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">├── layouts   // 默认为空
└── themes
    └── mytheme
        └── layouts
            ├── 404.html             // 404页面模板
            ├── _default
            │   ├── baseof.html      // 默认的基础模板页, 使用的方式是<span style="color:#e6db74">&#39;拼接&#39;</span>, 而不是<span style="color:#e6db74">&#39;继承&#39;</span>.
            │   ├── list.html        // 列表模板  
            │   └── single.html      // 单页模板
            ├── index.html           // 首页模板
            └── partials             // 局部模板, 通过partial引入
                ├── footer.html
                ├── header.html
                └── head.html       
</code></pre></div><p>皮肤列表： <a href="https://www.gohugo.org/theme/">https://www.gohugo.org/theme/</a></p>
<p><strong>页面</strong>：页面就是通过hugo 最终生成的静态网站中的html页面. 页面是由两部内容合成的, 即: 页面 = 文章 + 模板. hugo会根据一定的规制去寻找文章对应的模板页面, 从而生成页面.
0.60前的版本采用 BlackFriday 作为markdown解析器，0.60后版本默认采用Goldmark作为markdown解析器。</p>
<h3 id="安装">安装</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">tar -zxvf ./hugo_0.69.2_Linux-64bit.tar.gz
mv ./hugo /usr/local/bin/
hugo version
</code></pre></div><p>如果是hugo extended版本，CentOS7会遇到libstdc++.so.6.0版本过低问题，需要使用新的gcc动态库</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 下载新的动态库libstdc++.so.6.0.26上传到/usr/lib64</span>
chmod <span style="color:#ae81ff">755</span> libstdc++.so.6.0.26 <span style="color:#75715e"># 增加执行权限</span>
rm -rf libstdc++.so.6 <span style="color:#75715e"># 删除原来软连接</span>
ln -s libstdc++.so.6.0.26 libstdc++.so.6 <span style="color:#75715e"># 将默认库的软连接指向最新动态库</span>
strings /usr/lib64/libstdc++.so.6 | grep GLIBC <span style="color:#75715e"># 默认动态库升级完成。重新运行以下命令检查动态库</span>
</code></pre></div><h3 id="部署">部署</h3>
<p>假设你需要部署在 GitHub Pages 上，首先在GitHub上创建一个Repository，命名为：coderzh.github.io （coderzh替换为你的github用户名）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hugo --theme<span style="color:#f92672">=</span>hyde --baseUrl<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://coderzh.github.io/&#34;</span>
</code></pre></div><p>（注意，以上命令并不会生成草稿页面，如果未生成任何文章，请去掉文章头部的 draft=true 再重新生成。）</p>
<p>如果一切顺利，所有静态页面都会生成到 public 目录，将pubilc目录里所有文件 push 到刚创建的Repository的 master 分支。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd public
git init
git remote add origin https://github.com/coderzh/coderzh.github.io.git
git add -A
git commit -m <span style="color:#e6db74">&#34;first commit&#34;</span>
git push -u origin master
</code></pre></div><p>浏览器里访问：http://coderzh.github.io/</p>
<p><strong>Hugo server</strong>
<code>hugo server -D</code> Navigate to your new site at http://localhost:1313/.</p>
<p><code>hugo server -t hyde --buildDrafts --baseURL=http://106.54.3.157 --bind= --port=80</code>-t参数的意思是使用hyde主题渲染我们的页面，作为草稿，即draft参数设置为true，运行Hugo时要加上&ndash;buildDrafts参数才会生成被标记为草稿的页面，后面参数如不加默认在浏览器localhost:1313访问。发布在当前目录public/，如果使用Github pages来作为博客的Host，你只需要将public/里的文件上传即可。</p>
<h3 id="hugo-pipe">Hugo pipe</h3>
<h3 id="使用httpd发布">使用httpd发布</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">yum install httpd
</code></pre></div><p>配置文件<code>/etc/httpd/conf/httpd.conf</code><br>
默认web站点目录的路径: DocumentRoot &ldquo;/var/www/html&rdquo;<br>
默认http端口：80</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># hugo 生成的public目录</span>
cp -R ./public/* /var/www/html/
service httpd start <span style="color:#75715e"># 启动</span>
service httpd restart <span style="color:#75715e"># 重新启动 </span>
service httpd stop <span style="color:#75715e"># 停止服务</span>
</code></pre></div><h3 id="页面绑定">页面绑定</h3>
<p>hugo中的内容组织是依赖Page Bundles来管理的。Page Bundles包括Leaf Bundle（没有子节点）和Branch Bundle（home page, section, taxonomy terms, taxonomy list）两类。 </p>
<table>
<thead>
<tr>
<th></th>
<th><strong>Leaf Bundle</strong></th>
<th><strong>Branch Bundle</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>索引文件</td>
<td>index.md</td>
<td>_index.md</td>
</tr>
<tr>
<td>布局类型</td>
<td>single</td>
<td>list</td>
</tr>
<tr>
<td>嵌套</td>
<td>不允许嵌套</td>
<td>允许Leaf或Branch Bundle嵌套</td>
</tr>
</tbody>
</table>
<p><strong>Section</strong>是基于content/目录下的组织结构定义的页面集合。<br>
content/ 下的第一级子目录都是一个section。如果想让一个子目录成为section，需要在目录下面定义_index.md文件。 所有的section构成一个section tree。</p>
<pre><code>content
└── blog        &lt;-- Section, 因为是content的子目录
    ├── funny-cats
    │   ├── mypost.md
    │   └── kittens         &lt;-- Section, 因为包含_index.md
    │       └── _index.md
    └── tech                &lt;-- Section, 因为包含 _index.md
        └── _index.md
</code></pre><p>如果section tree 需要可导航，至少最底层的部分需要定义一个_index.md文件。</p>
<p>front matter 用来配置文章的标题、时间、链接、分类等元信息，提供给模板调用，支持toml和yaml配置</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml"><span style="color:#960050;background-color:#1e0010">+++</span>
<span style="color:#a6e22e">title</span> = <span style="color:#e6db74">&#34;post title&#34;</span>
<span style="color:#a6e22e">description</span> = <span style="color:#e6db74">&#34;description.&#34;</span>
<span style="color:#a6e22e">date</span> = <span style="color:#e6db74">&#34;2018-08-20&#34;</span>
<span style="color:#a6e22e">tags</span> = [ <span style="color:#e6db74">&#34;tag1&#34;</span>, <span style="color:#e6db74">&#34;tag2&#34;</span>, <span style="color:#e6db74">&#34;tag3&#34;</span>]
<span style="color:#a6e22e">categories</span> = [<span style="color:#e6db74">&#34;cat1&#34;</span>,<span style="color:#e6db74">&#34;cat2&#34;</span>]
<span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">20</span>
<span style="color:#960050;background-color:#1e0010">+++</span>
</code></pre></div><pre><code>                               url (&quot;/posts/my-first-hugo-post/&quot;)
                   ⊢------------^----------⊣
       baseurl     section     slug
⊢--------^--------⊣⊢-^--⊣⊢-------^---------⊣
                 permalink
⊢--------------------^---------------------⊣
https://example.com/posts/my-first-hugo-post/index.html
</code></pre><h3 id="configuration">Configuration</h3>
<pre><code>├── config
│   ├── _default
│   │   ├── config.toml
│   │   ├── languages.toml
│   │   ├── menus.en.toml
│   │   ├── menus.zh.toml
│   │   └── params.toml
│   ├── production
│   │   ├── config.toml
│   │   └── params.toml
│   └── staging
│       ├── config.toml
│       └── params.toml
</code></pre><h2 id="gatsby">Gatsby</h2>
<h2 id="vuepress">Vuepress</h2>
<p>VuePress 遵循 “约定优于配置” 的原则，推荐的目录结构如下：</p>
<pre><code>├── docs
│   ├── .vuepress (可选的)
│   │   ├── components (可选的)
│   │   ├── theme (可选的)
│   │   │   └── Layout.vue
│   │   ├── public (可选的)
│   │   ├── styles (可选的)
│   │   │   ├── index.styl
│   │   │   └── palette.styl
│   │   ├── templates (可选的, 谨慎配置)
│   │   │   ├── dev.html
│   │   │   └── ssr.html
│   │   ├── config.js (可选的)
│   │   └── enhanceApp.js (可选的)
│   │ 
│   ├── README.md
│   ├── guide
│   │   └── README.md
│   └── config.md
│ 
└── package.json
</code></pre><ul>
<li>docs/.vuepress: 用于存放全局的配置、组件、静态资源等。</li>
<li>docs/.vuepress/components: 该目录中的 Vue 组件将会被自动注册为全局组件。</li>
<li>docs/.vuepress/theme: 用于存放本地主题。</li>
<li>docs/.vuepress/styles: 用于存放样式相关的文件。</li>
<li>docs/.vuepress/styles/index.styl: 将会被自动应用的全局样式文件，会生成在最终的 CSS 文件结尾，具有比默认样式更高的优先级。</li>
<li>docs/.vuepress/styles/palette.styl: 用于重写默认颜色常量，或者设置新的 stylus 颜色常量。</li>
<li>docs/.vuepress/public: 静态资源目录。</li>
<li>docs/.vuepress/templates: 存储 HTML 模板文件。</li>
<li>docs/.vuepress/templates/dev.html: 用于开发环境的 HTML 模板文件。</li>
<li>docs/.vuepress/templates/ssr.html: 构建时基于 Vue SSR 的 HTML 模板文件。</li>
<li>docs/.vuepress/config.js: 配置文件的入口文件，也可以是 YML 或 toml。</li>
<li>docs/.vuepress/enhanceApp.js: 客户端应用的增强。</li>
</ul>
<p>注意图片静态资源尽量不要用中文，否则编译时需要用markdown-it转换处理</p>
<hr>
<h3 id="vuepress-dockerhttpshubdockercomrblastehvuepress"><a href="https://hub.docker.com/r/blasteh/vuepress">Vuepress-docker</a></h3>
<p>Simple build of vuepress using Alpine Linux on Docker.</p>
<p>The image has 2 folders, 1 for input files, 1 for output files.
Mount these folders to use the image:</p>
<p>Input folder: <code>/root/src</code></p>
<p>Output folder: <code>/root/html</code></p>
<p>When the build runs, it will take contents of the input folder, generate the site, and then place them in the output folder.
This image regenerates the files every 23 hours unless you use the hook option.
Webhook is supplied by <a href="https://github.com/adnanh/webhook">Hookdoo</a></p>
<h4 id="environment-variables">Environment variables</h4>
<p><code>USE_HOOK</code> - The web hook is enabled as long as this is present.</p>
<p><code>GITHUB_REPO</code> - Remove &ldquo;https://&rdquo; from the url; e.g. use <code>GITHUB_REPO=github.com/blastehh/vuepress-docker.git</code> instead of <code>GITHUB_REPO=https://github.com/blastehh/vuepress-docker.git</code></p>
<p><code>GITHUB_TOKEN</code> - Needed to access private repos, otherwise will try to access a public repo.</p>
<p><code>GITHUB_PUSH_REPO</code> - URL of repo to push to once build finishes, e.g. <code>github.com/blastehh/mypage.git</code></p>
<p><code>GITHUB_PUSH_TOKEN</code> - Set the token for pushing to Github if different from <code>GITHUB_TOKEN</code></p>
<h4 id="example-docker-command">Example docker command</h4>
<p>This will automatically regenerate the source files every 23 hours.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --name vuepress -v /host/vuepress/files/:/root/src/:rw -v /host/vuepress/output/:/root/html/:rw -d blasteh/vuepress
</code></pre></div><h4 id="github-example">Github example:</h4>
<p>This will pull from the repo before generating the files.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --name vuepress -v /host/vuepress/files/:/root/src/:rw -v /host/vuepress/output/:/root/html/:rw -d -e GITHUB_REPO<span style="color:#f92672">=</span>github.com/blastehh/vuepress-docker.git blasteh/vuepress
</code></pre></div><h4 id="github-example-with-a-personal-access-tokenhttpsgithubcomsettingstokens">Github example with a <a href="https://github.com/settings/tokens">Personal access token</a>:</h4>
<p>This will pull from a private repo before generating the files.</p>
<pre><code>docker run --name vuepress -v /host/vuepress/files/:/root/src/:rw -v /host/vuepress/output/:/root/html/:rw -d -e GITHUB_REPO=github.com/blastehh/vuepress-docker.git -e GITHUB_TOKEN=TOKENHERE blasteh/vuepress
</code></pre><h4 id="github-with-hooks-example">Github with hooks example:</h4>
<p>This will listen for a webhook, and then pull from a private repo before generating the files.
Trigger the hook via <code>http://&lt;container address&gt;:9000/hooks/vuepress-webhook</code></p>
<pre><code>docker run --name vuepress -v /host/vuepress/files/:/root/src/:rw -v /host/vuepress/output/:/root/html/:rw -d -p 9000:9000 -e USE_HOOK=1 -e GITHUB_REPO=github.com/blastehh/vuepress-docker.git -e GITHUB_TOKEN=TOKENHERE blasteh/vuepress
</code></pre><h2 id="hexo">Hexo</h2>
<h2 id="gitbook">Gitbook</h2>
<p>前提已安装Node，执行</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install gitbook-cli -g
</code></pre></div><p>gitbook-cli 是 gitbook 的一个命令行工具, 通过它安装和管理 gitbook 的多个版本.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mkdir mybook
gitbook init
gitbook serve <span style="color:#75715e"># 启动gitbook项目并提供http://localhost:4000为浏览器浏览链接。</span>
gitbook help <span style="color:#75715e"># 列出gitbook所有的命令</span>
gitbook --help <span style="color:#75715e"># 输出gitbook-cli的帮助信息</span>
gitbook build <span style="color:#75715e"># 生成静态网页</span>
gitbook serve <span style="color:#75715e"># 生成静态网页并运行服务器</span>
gitbook build --gitbook<span style="color:#f92672">=</span>2.0.1 <span style="color:#75715e"># 生成时指定gitbook的版本, 本地没有会先下载</span>
gitbook ls <span style="color:#75715e"># 列出本地所有的gitbook版本</span>
gitbook ls-remote <span style="color:#75715e"># 列出远程可用的gitbook版本</span>
gitbook fetch 标签/版本号 <span style="color:#75715e"># 安装对应的gitbook版本</span>
gitbook update <span style="color:#75715e"># 更新到gitbook的最新版本</span>
gitbook uninstall 2.0.1 <span style="color:#75715e"># 卸载对应的gitbook版本</span>
gitbook build --log<span style="color:#f92672">=</span>debug <span style="color:#75715e"># 指定log的级别</span>
gitbook builid --debug <span style="color:#75715e"># 输出错误信息</span>
gitbook build<span style="color:#f92672">[</span>path<span style="color:#f92672">]</span> <span style="color:#75715e"># 构建gitbook项目，构建路径可省略，默认为_book</span>
</code></pre></div><h2 id="docsify">Docsify</h2>
<h4 id="手动创建方法">手动创建方法</h4>
<p>在项目中创建一个index.html文件够如下</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span>&gt;
&lt;<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">http-equiv</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;X-UA-Compatible&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;IE=edge,chrome=1&#34;</span>&gt;
  &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;viewport&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width=device-width,initial-scale=1&#34;</span>&gt;
  &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>&gt;
  &lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stylesheet&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;//unpkg.com/docsify/themes/vue.css&#34;</span>&gt;
&lt;/<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">body</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
  &lt;<span style="color:#f92672">script</span>&gt;
    window.<span style="color:#a6e22e">$docsify</span> <span style="color:#f92672">=</span> {
      <span style="color:#75715e">//...
</span><span style="color:#75715e"></span>    }
  &lt;/<span style="color:#f92672">script</span>&gt;
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;//unpkg.com/docsify/lib/docsify.min.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>然后在项目中创建.md文件<br>
可在终端输入npm install http-server -g来安装http-server</p>
<blockquote>
<p>注意：<br>
1.在此模式下编辑文件保存后，需要手动刷新浏览器才能看见修改的效果，下面介绍的docsify-cli可实现自动查看效果。<br>
2.强烈建议把index.html文件中的docsify.min.js和vue.css文件复制到本地项目，然后使用如下方式引入：</p>
<pre><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;./vue.css&quot;&gt;
&lt;script src=&quot;./docsify.min.js&quot;&gt;&lt;/script&gt;
</code></pre><p>这样做的好处是不在依赖网络环境了。</p>
</blockquote>
<h4 id="使用docsify-cli安装">使用docsify-cli安装</h4>
<p>联网情况使用 <code>npm i docsify-cli -g</code> 进行全局安装</p>
<p>离线安装</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">tar -zvxf docsify-cli-4.4.0.tar.gz -C /usr/local/node/lib/node_modules/docsify-cli
</code></pre></div><h4 id="gitlab-pages部署docsify">GitLab pages部署docsify</h4>
<p>如果你正在部署你的主分支, 在 .gitlab-ci.yml 中包含以下脚本：<br>
.public 的解决方法是这样的，cp 不会无限循环的将 public/ 复制到自身。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#f92672">pages</span>:
  <span style="color:#f92672">stage</span>: <span style="color:#ae81ff">deploy</span>
  <span style="color:#f92672">script</span>:
  - <span style="color:#ae81ff">mkdir .public</span>
  - <span style="color:#ae81ff">cp -r * .public</span>
  - <span style="color:#ae81ff">mv .public public</span>
  <span style="color:#f92672">artifacts</span>:
    <span style="color:#f92672">paths</span>:
    - <span style="color:#ae81ff">public</span>
  <span style="color:#f92672">only</span>:
  - <span style="color:#ae81ff">master</span>
</code></pre></div><p>你可以用 <code>- cp -r docs/. public</code> 替换脚本, 如果 ./docs 是你的 docsify 子文件夹。</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/web/" rel="tag">web</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/post/2019/hydg/" rel="prev">
			<span class="pager__subtitle">«&thinsp;上一篇</span>
			<p class="pager__title">地中海的故事</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/post/2019/git_commit/" rel="next">
			<span class="pager__subtitle">下一篇&thinsp;»</span>
			<p class="pager__title">代码提交</p>
		</a>
	</div>
</nav>




<span id="/post/2019/0422-ssgs/" class="leancloud_visitors" data-flag-title="静态网站框架">
  <span class="post-meta-item-text">文章阅读量 </span>
  <span class="leancloud-visitors-count">1000000</span>
  <p></p>
</span>
<div id="vcomments"></div>
<script src="/js/av-min.js"></script>
<script src='/js/Valine.min.js'></script>
<script type="text/javascript">
  new Valine({
      el: '#vcomments' ,
      appId: 'hm00s9gYQcAIYl6rSms3LDLr-gzGzoHsz',
      appKey: '3cVVttFY1Pw0o7D9kv4cgDPm',
      notify: 'false', 
      verify: 'false', 
      avatar:'CF', 
      placeholder: '说点什么吧...',
      visitor: 'true'
  });
</script>

			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 CF.
			<span class="footer__copyright-credits"> <a href="http://www.beian.miit.gov.cn">沪ICP备20014789号-1 </a> </span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
<script src="/js/custom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>